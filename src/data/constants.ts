export const REGIONS_AND_CITIES = {
  'София (столица)': ['София'],
  'Област Варна': ['Варна', 'Аксаково', 'Белослав', 'Бяла', 'Ветрино', 'Вълчи дол', 'Девня', 'Долни чифлик', 'Дългопол', 'Провадия', 'Суворово'],
  'Област Силистра': ['Силистра', 'Алфатар', 'Главиница', 'Дулово', 'Кайнарджа', 'Ситово', 'Тутракан'],
  'Област Благоевград': ['Благоевград', 'Банско', 'Гоце Делчев', 'Петрич', 'Разлог', 'Сандански', 'Симитли'],
  'Област Бургас': ['Бургас', 'Айтос', 'Карнобат', 'Малко Търново', 'Несебър', 'Поморие', 'Приморско', 'Созопол', 'Средец', 'Сунгурларе', 'Царево'],
  'Област Велико Търново': ['Велико Търново', 'Арбанаси', 'Горна Оряховица', 'Елена', 'Златарица', 'Лясковец', 'Павликени', 'Полски Тръмбеш', 'Свищов', 'Стражица'],
  'Област Видин': ['Видин', 'Белоградчик', 'Бойница', 'Брегово', 'Грамада', 'Димово', 'Кула', 'Макреш', 'Ново село', 'Ружинци', 'Чупрене'],
  'Област Враца': ['Враца', 'Борован', 'Бяла Слатина', 'Козлодуй', 'Криводол', 'Мездра', 'Мизия', 'Оряхово', 'Роман', 'Хайредин'],
  'Област Габрово': ['Габрово', 'Дряново', 'Севлиево', 'Трявна'],
  'Област Добрич': ['Добрич', 'Балчик', 'Генерал Тошево', 'Каварна', 'Крушари', 'Тервел', 'Шабла'],
  'Област Кърджали': ['Кърджали', 'Ардино', 'Джебел', 'Кирково', 'Крумовград', 'Момчилград', 'Черноочене'],
  'Област Кюстендил': ['Кюстендил', 'Бобов дол', 'Бобошево', 'Дупница', 'Невестино', 'Рила', 'Сапарева баня', 'Трекляно'],
  'Област Ловеч': ['Ловеч', 'Априлци', 'Летница', 'Луковит', 'Тетевен', 'Троян', 'Угърчин'],
  'Област Монтана': ['Монтана', 'Берковица', 'Бойчиновци', 'Брусарци', 'Вършец', 'Георги Дамяново', 'Лом', 'Медковец', 'Чипровци', 'Якимово'],
  'Област Пазарджик': ['Пазарджик', 'Батак', 'Белово', 'Брацигово', 'Велинград', 'Лесичово', 'Панагюрище', 'Пещера', 'Ракитово', 'Септември', 'Стрелча'],
  'Област Перник': ['Перник', 'Брезник', 'Земен', 'Ковачевци', 'Радомир', 'Трън'],
  'Област Плевен': ['Плевен', 'Белене', 'Гулянци', 'Долна Митрополия', 'Долни Дъбник', 'Искър', 'Кнежа', 'Левски', 'Никопол', 'Пордим'],
  'Област Пловдив': ['Пловдив', 'Асеновград', 'Брезово', 'Калояново', 'Карлово', 'Кричим', 'Куклен', 'Лъки', 'Марица', 'Перущица', 'Първомай', 'Раковски', 'Родопи', 'Садово', 'Сопот', 'Стамболийски', 'Съединение', 'Хисаря'],
  'Област Разград': ['Разград', 'Завет', 'Исперих', 'Кубрат', 'Лозница', 'Самуил', 'Цар Калоян'],
  'Област Русе': ['Русе', 'Бяла', 'Ветово', 'Две могили', 'Иваново', 'Ценово', 'Сливо поле', 'Борово'],
  'Област Сливен': ['Сливен', 'Котел', 'Нова Загора', 'Твърдица'],
  'Област Смолян': ['Смолян', 'Банките', 'Борино', 'Девин', 'Доспат', 'Златоград', 'Мадан', 'Неделино', 'Рудозем', 'Чепеларе'],
  'Област Стара Загора': ['Стара Загора', 'Братя Даскалови', 'Гурково', 'Гълъбово', 'Казанлък', 'Мъглиж', 'Николаево', 'Опан', 'Павел баня', 'Раднево', 'Чирпан'],
  'Област Търговище': ['Търговище', 'Антоново', 'Омуртаг', 'Опака', 'Попово'],
  'Област Хасково': ['Хасково', 'Димитровград', 'Ивайловград', 'Любимец', 'Маджарово', 'Минерални бани', 'Свиленград', 'Симеоновград', 'Стамболово', 'Тополовград', 'Харманли'],
  'Област Шумен': ['Шумен', 'Велики Преслав', 'Венец', 'Върбица', 'Каспичан', 'Китен', 'Никола Козлево', 'Нови пазар', 'Смядово', 'Хитрино'],
  'Област Ямбол': ['Ямбол', 'Болярово', 'Елхово', 'Стралджа', 'Тунджа']
};

export const PROPERTY_TYPES = [
  '1-СТАЕН', '2-СТАЕН', '3-СТАЕН', '4-СТАЕН', 'МНОГОСТАЕН',
  'МЕЗОНЕТ', 'АТЕЛИЕ, ТАВАН', 'ОФИС', 'МАГАЗИН', 'ЗАВЕДЕНИЕ',
  'СКЛАД', 'ХОТЕЛ', 'КЪЩА', 'ВИЛА', 'ПАРЦЕЛ', 'ГАРАЖ',
  'ЗЕМЕДЕЛСКА ЗЕМЯ', 'ПРОИЗВОДСТВЕНО ПОМЕЩЕНИЕ', 'БИЗНЕС ИМОТ'
];

export const RESIDENTIAL_PROPERTY_TYPES = [
  '1-СТАЕН', '2-СТАЕН', '3-СТАЕН', '4-СТАЕН', 'МНОГОСТАЕН',
  'МЕЗОНЕТ', 'АТЕЛИЕ, ТАВАН', 'КЪЩА', 'ВИЛА'
];

const CITY_DISTRICTS: Record<string, string[]> = {
  'София': [
    'Банишора', 'Беляковско шосе', 'Борово', 'Ботунец', 'Бояна', 'Бусманци',
    'Витоша', 'Владая', 'Враждебна', 'Връбница 1', 'Връбница 2', 'Герман',
    'Горна баня', 'Горубляне', 'Гоце Делчев', 'Градина', 'Диана бад', 'Докторски паметник',
    'Драгалевци', 'Дружба 1', 'Дружба 2', 'Дървеница', 'Западен парк', 'Захарна фабрика',
    'Зона Б-18', 'Зона Б-19', 'Зона Б-5', 'Иван Вазов', 'Изгрев', 'Изток',
    'Илинден', 'Илиянци', 'Казичене', 'Капитан Андреево', 'Карпузица', 'Кокаляне',
    'Красна поляна 1', 'Красна поляна 2', 'Красна поляна 3', 'Красно село', 'Кремиковци',
    'Кръстова вада', 'Княжево', 'Левски', 'Левски В', 'Левски Г', 'Лозенец',
    'Люлин 1', 'Люлин 2', 'Люлин 3', 'Люлин 4', 'Люлин 5', 'Люлин 6',
    'Люлин 7', 'Люлин 8', 'Люлин 9', 'Люлин 10', 'Люлин-център', 'Малашевци',
    'Малинова долина', 'Манастирски ливади', 'Милево', 'Младост 1', 'Младост 1А', 'Младост 2',
    'Младост 3', 'Младост 4', 'Модерно предградие', 'Мусагеница', 'Надежда 1', 'Надежда 2',
    'Надежда 3', 'Надежда 4', 'НПЗ Изток', 'НПЗ Искър', 'НПЗ Хаджи Димитър', 'Обеля',
    'Обеля 1', 'Обеля 2', 'Оборище', 'Овча купел 1', 'Овча купел 2', 'Орландовци', 'Павлово',
    'Панчарево', 'Подуяне', 'Полигона', 'Разсадника', 'Редута', 'Света Троица',
    'Свобода', 'Сердика', 'Симеоново', 'Славия', 'Слатина', 'Стрелбище',
    'Студентски град', 'Сухата река', 'Суходол', 'Толстой', 'Триъгълника', 'Филиповци',
    'Фондови жилища', 'Хаджи Димитър', 'Хиподрума', 'Хладилника', 'Христо Ботев', 'Център',
    'Челопечене', 'Яворов', 'Ястребец'
  ],
  'Варна': [
    'Аспарухово', 'Бриз', 'Възраждане', 'Галата', 'Гръцка махала', 'Дружба',
    'Западна промишлена зона', 'Зимно кино', 'Изгрев', 'Кайсиева градина', 'Каменар',
    'Кв. Чайка', 'Левски', 'Лятно кино Тракия', 'Младост', 'Морска градина',
    'Одесос', 'Окръжна болница', 'Операта', 'Планова', 'Победа', 'Приморски',
    'Ретро', 'Салтанат', 'Св. Константин и Елена', 'Св. Никола', 'Център',
    'Чаталджа', 'Червен площад', 'Чернево', 'Шипка', 'Южна промишлена зона'
  ],
  'Силистра': [
    'Дунав', 'Център', 'Север', 'Изток', 'Запад'
  ],
  'Пловдив': [
    'Въстанически', 'Гагарин', 'Данаил Дечев', 'Дружба', 'Изгрев', 'Каменица 1',
    'Каменица 2', 'Капана', 'Кършияка', 'Коматево', 'Кукленско шосе', 'Лаута',
    'Марица', 'Младост', 'Мараша', 'Остромила', 'Прослав', 'Пъдарско плато',
    'Северен', 'Смирненски', 'Столипиново', 'Тракия', 'Тримонциум', 'Христо Г. Данов',
    'Център', 'Широк център', 'Южен'
  ],
  'Бургас': [
    'Акациите', 'Банево', 'Богориди', 'Братя Миладинови', 'Ветрен', 'Възраждане',
    'Горно Езерово', 'Долно Езерово', 'Зорница', 'Изгрев', 'Крайморие', 'Лазур',
    'Меден рудник', 'Победа', 'Принцеса Мария Луиза', 'Сарафово', 'Славейков',
    'Център'
  ],
  'Русе': [
    'Възраждане', 'Дружба 1', 'Дружба 2', 'Здравец', 'Изгрев', 'Кенана',
    'Младост', 'Образцов чифлик', 'Родина 1', 'Родина 2', 'Родина 3',
    'Средец', 'Стабилизатор', 'Център', 'Чародейка'
  ],
  'Стара Загора': [
    'Аязмото', 'Българка', 'Ген. Столетов', 'Голеш', 'Железник', 'Загоре',
    'Индустриален', 'Казански', 'Кольо Ганчев', 'Лозенград', 'Македонски',
    'Младост', 'Опълченски', 'Самара 1', 'Самара 2', 'Самара 3',
    'Три чучура - Север', 'Три чучура - Юг', 'Център'
  ],
  'Плевен': [
    'Дружба', 'Изгрев', 'Кайлъка', 'Мара Денчева', 'Младост', 'Сторгозия',
    'Център', 'Широк център'
  ],
  'Сливен': [
    'Асеновец', 'Българка', 'Дружба', 'Клуцохор', 'Младост', 'Речица',
    'Стоян Заимов', 'Център'
  ],
  'Добрич': [
    'Балик', 'Дружба 1', 'Дружба 2', 'Дружба 3', 'Изгрев', 'Рилци',
    'Север', 'Център'
  ],
  'Шумен': [
    'Дивдядово', 'Младост', 'Тракийски', 'Център'
  ],
  'Перник': [
    'Изток', 'Мошино', 'Център'
  ],
  'Ямбол': [
    'Георги Бенковски', 'Дивдядово', 'Каргон', 'Център'
  ],
  'Хасково': [
    'Дружба', 'Изгрев', 'Младост', 'Център'
  ],
  'Пазарджик': [
    'Изток', 'Младост', 'Център'
  ],
  'Благоевград': [
    'Еленово', 'Запад', 'Изток', 'Център'
  ],
  'Велико Търново': [
    'Бузлуджа', 'Картала', 'Чолаковци', 'Център'
  ],
  'Враца': [
    'Бистрец', 'Дъбника', 'Младост', 'Център'
  ],
  'Видин': [
    'Калето', 'Нов град', 'Център'
  ],
  'Монтана': [
    'Младост', 'Център'
  ],
  'Габрово': [
    'Младост', 'Център'
  ],
  'Кърджали': [
    'Възрожденци', 'Изгрев', 'Център'
  ],
  'Кюстендил': [
    'Запад', 'Изток', 'Център', 'Баня'
  ],
  'Ловеч': [
    'Младост', 'Център', 'Стратеш', 'Дренов дол'
  ],
  'Разград': [
    'Дружба', 'Център'
  ],
  'Смолян': [
    'Устово', 'Център'
  ],
  'Търговище': [
    'Въпраждане', 'Център'
  ],
  // Малки градове с квартали
  'Банско': [
    'Център', 'Разлог', 'Старата част'
  ],
  'Несебър': [
    'Стар Несебър', 'Нов Несебър', 'Слънчев бряг'
  ],
  'Созопол': [
    'Стар град', 'Нов град', 'Харманите', 'Буджака'
  ],
  'Поморие': [
    'Център', 'Стария град', 'Нов Поморие'
  ],
  'Приморско': [
    'Център', 'Север', 'Юг'
  ],
  'Царево': [
    'Център', 'Лозенец', 'Ахтопол'
  ],
  'Балчик': [
    'Център', 'Дворец', 'Кранево'
  ],
  'Каварна': [
    'Център', 'Калиакра', 'Болата'
  ],
  'Свищов': [
    'Център', 'Дунав', 'Индустриален'
  ],
  'Горна Оряховица': [
    'Център', 'Гара', 'Индустриален'
  ],
  'Казанлък': [
    'Център', 'Розова долина', 'Индустриален'
  ],
  'Димитровград': [
    'Център', 'Марица', 'Индустриален'
  ],
  'Свиленград': [
    'Център', 'Гранична застава', 'Индустриален'
  ],
  'Асеновград': [
    'Център', 'Асеновата крепост', 'Индустриален'
  ],
  'Карлово': [
    'Център', 'Розова долина', 'Индустриален'
  ],
  'Панагюрище': [
    'Център', 'Априлци', 'Индустриален'
  ],
  'Велинград': [
    'Център', 'Каменица', 'Лъджене', 'Чепино'
  ],
  'Сандански': [
    'Център', 'Баня', 'Индустриален'
  ],
  'Петрич': [
    'Център', 'Кулата', 'Индустриален'
  ],
  'Дупница': [
    'Център', 'Бистрица', 'Индустриален'
  ],
  'Троян': [
    'Център', 'Орешак', 'Индустриален'
  ],
  'Севлиево': [
    'Център', 'Индустриален', 'Север'
  ],
  'Козлодуй': [
    'Център', 'АЕЦ', 'Дунав'
  ],
  'Белене': [
    'Център', 'Дунав', 'Остров'
  ],
  'Никопол': [
    'Център', 'Дунав', 'Индустриален'
  ]
};

export const CONSTRUCTION_TYPES = ['Тухла', 'Панел', 'ЕПК', 'ПК', 'Монолит'];

export const CONDITIONS = ['Ново строителство', 'Обзаведен', 'Необзаведен', 'За ремонт', 'След ремонт'];

export const HEATING_TYPES = ['ТЕЦ', 'Локално', 'Газ', 'Климатик', 'Камина', 'Без'];

export const FURNISHING_LEVELS = [
  { value: 'full', label: 'Напълно обзаведен' },
  { value: 'partial', label: 'Частично обзаведен' },
  { value: 'none', label: 'Необзаведен' },
  { value: 'unfurnished', label: 'Необзаведена' }
];

// Helper function to get all cities from regions
export const getAllCities = () => {
  const allCities: Set<string> = new Set();
  Object.values(REGIONS_AND_CITIES).forEach(cities => {
    cities.forEach(city => allCities.add(city));
  });
  return Array.from(allCities).sort().map((city, index) => ({ key: `${city}-${index}`, value: city }));
};

// District aliases and synonyms for search parsing
export const DISTRICT_ALIASES: Record<string, string[]> = {
  'Оборище': ['Оборище', 'кв. Оборище', 'гр. София, кв. Оборище', 'Sofia Oborishte', 'Oborishte'],
  'Център': ['Център', 'центъра', 'център София', 'Sofia Center', 'Center'],
  'Лозенец': ['Лозенец', 'кв. Лозенец', 'Lozenets'],
  'Младост 1': ['Младост 1', 'Mladost 1', 'кв. Младост 1'],
  'Симеоново': ['Симеоново', 'Simeonovo', 'кв. Симеоново'],
  'Витоша': ['Витоша', 'Vitosha', 'кв. Витоша'],
  'Бояна': ['Бояна', 'Boyana', 'кв. Бояна']
};

// Normalize location input for search
export const normalizeLocationInput = (input: string): string => {
  if (!input) return '';
  
  const trimmed = input.trim();
  
  // Find exact alias match
  for (const [canonical, aliases] of Object.entries(DISTRICT_ALIASES)) {
    if (aliases.some(alias => 
      alias.toLowerCase() === trimmed.toLowerCase() ||
      alias.toLowerCase().includes(trimmed.toLowerCase()) ||
      trimmed.toLowerCase().includes(alias.toLowerCase())
    )) {
      return canonical;
    }
  }
  
  return trimmed;
};

// Get all possible aliases for a district
export const getDistrictAliases = (district: string): string[] => {
  return DISTRICT_ALIASES[district] || [district];
};

// Helper function to get districts for a city
export const getDistrictsForCity = (city: string): string[] => {
  return CITY_DISTRICTS[city] || [];
};